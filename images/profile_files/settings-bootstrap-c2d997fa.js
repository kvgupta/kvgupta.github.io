System.register(["./vendor.js","./frameworks.js"],(function(){"use strict";var e,t,s,n,o,r,c,a,i,l,d,u,m,f,p,g,j,h,b,y,L,w,v,k,T;return{setters:[function(l){e=l.o,t=l.c,s=l.b,n=l.g,o=l.q,r=l.a,c=l.d,a=l.f,i=l.n},function(e){l=e.z,d=e.a8,u=e.i,m=e.y,f=e.e,p=e.al,g=e.w,j=e.a,h=e.V,b=e.D,y=e.h,L=e.aN,w=e.aY,v=e.as,k=e.q,T=e.G}],execute:function(){function E(e,t){const s=new URLSearchParams(window.location.search);s.set(e,t);const n=new URL(window.location.href,window.location.origin);n.search=s.toString(),l(d(),"",n.toString())}function S(e,t){for(const s of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))s.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}async function M(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let s;try{s=await j(document,t),e.innerHTML="",e.append(s)}catch(n){window.location.reload()}}e("details-menu-selected",".js-actions-runner-platform-menu",(function(e){const r=e.detail.relatedTarget;if(!(r instanceof HTMLElement))throw new Error("invariant");const c=t(r,".js-actions-runner-instructions"),a=s(c,".js-actions-runner-architecture-menu"),i=n(r,"data-download-os"),l=n(a,"data-default-architecture");for(const t of o(a,"[data-download-os]")){const e=n(t,"data-download-os");t.hidden=e!==i,e===i&&n(t,"data-download-architecture")===l&&t.click()}s(c,".js-actions-runner-windows-instructions").hidden="win"!==i,s(c,".js-actions-runner-unix-instructions").hidden="win"===i,E("os",i)}),{capture:!0}),e("details-menu-selected",".js-actions-runner-architecture-menu",(function(e){const s=e.detail.relatedTarget;if(!(s instanceof HTMLElement))throw new Error("invariant");const r=t(s,".js-actions-runner-instructions"),c=n(s,"data-download-url"),a=n(s,"data-download-filename");for(const t of o(r,".js-action-runner-url"))t.textContent=c;for(const t of o(r,".js-action-runner-filename"))t.textContent=a;E("arch",n(s,"data-download-architecture"))}),{capture:!0}),r(".js-email-global-unsubscribe-form",(function(e){s(e,".js-email-global-unsubscribe-submit",HTMLInputElement).disabled=!0})),e("change",".js-email-global-unsubscribe-form",(function(e){const t=e.currentTarget,n=s(t,".js-email-global-unsubscribe-submit",HTMLInputElement),r=o(t,".js-email-global-unsubscribe",HTMLInputElement),c=Array.from(r).some(e=>e.checked!==e.defaultChecked);n.disabled=!c})),u(".js-email-unsubscribe-form",(async function(e,t){await t.text();for(const s of document.querySelectorAll(".js-email-unsubscribe-message"))s instanceof HTMLElement&&(s.hidden=!s.hidden)})),m(".js-key-link-input",c((async function(e){const t=e.target.form,n=o(t,".js-key-link-input",HTMLInputElement),r=new FormData;for(const s of n)r.append(s.name,s.value);const c=s(t,".js-key-link-check",HTMLElement),a=function(e){const t=e.getAttribute("src");if(!t)return"";const s=document.createElement("a");return s.href=t,s.href}(c),i=s(c.parentElement,".js-key-link-check-csrf",HTMLInputElement);try{const e=await f(p(a,i.value,{method:"POST",body:r}));c.innerHTML=e,c.hidden=!1}catch(l){c.hidden=!0}}),300)),u(".js-setting-toggle",(async function(e,t){const n=s(e,".js-status-indicator");S(n,"status-indicator-loading");try{await t.text(),S(n,"status-indicator-success")}catch(o){S(n,"status-indicator-failed")}})),e("change",".js-toggle-email-settings input",(function(){const e=s(document,".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)})),e("change",".js-toggle-ci-failures-only-setting input",(function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=s(document,".js-ci-failures-only-settings input",HTMLInputElement),n=t.closest("label");n&&n.classList.toggle("text-gray-light",!e),e||(t.checked=!1),t.disabled=!e})),u(".js-revoke-access-form",(async function(e,t){await t.html();const o=n(e,"data-id"),r=n(e,"data-type-name"),c=s(document,`.js-revoke-item[data-type='${r}'][data-id='${o}']`);c.remove(),c.classList.contains("new-token")&&s(document,".js-flash-new-token").remove()})),e("click",".js-delete-oauth-application-image",(function(){const e=s(document,".js-delete-oauth-application-image-form",HTMLFormElement);g(e)})),e("click",".js-new-callback",(function(e){e.preventDefault();const n=e.currentTarget,o=t(n,".js-callback-urls"),r=s(o,".js-callback-url").cloneNode(!0);r instanceof HTMLElement&&(r.classList.remove("is-default-callback"),s(r,"input",HTMLInputElement).value="",o.classList.add("has-many"),n.parentNode.insertBefore(r,n))})),e("click",".js-delete-callback",(function(e){e.preventDefault();const s=e.currentTarget;t(s,".js-callback-url").remove();const n=t(s,".js-callback-urls");o(n,".js-callback-url",HTMLElement).length<=1&&n.classList.remove("has-many")})),e("click",".js-oauth-application-whitelist .js-deny-this-request",(function(e){const s=e.currentTarget;s.nextElementSibling.value="denied",g(t(s,".js-org-application-access-form",HTMLFormElement))})),e("click",".js-generate-integration-key",(function(){const e=s(document,".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout((function(){const e=s(document,".js-integration-keys-container",HTMLElement);e&&M(e)}),1e3))})),u(".js-remove-integration-key",(async function(e,o){try{await o.text()}catch(a){if(!a.response)throw a;t(e,"details").removeAttribute("open");const n=s(document,".js-integration-key-management-wrapper"),o=s(n,".js-error-container"),r=s(o,".js-error-message");switch(a.response.status){case 500:r.textContent="Oops, something went wrong.";break;case 404:r.textContent="Oops, that key could not be found.";break;default:r.textContent=a.response.json.message}return void n.classList.add("error")}const r=n(e,"data-key-id"),c=document.getElementById(r);if(c){const e=t(c,".js-integration-keys-container",HTMLElement);e&&M(e)}})),e("click",".js-error-dismiss",(function(){const e=s(document,".js-integration-keys-container",HTMLElement);e&&M(e)})),e("change",".js-checkbox-scope",(function(e){const s=e.currentTarget,n=t(s,".js-check-scope-container"),r=o(n,".js-checkbox-scope",HTMLInputElement);for(const t of r)t!==s&&(t.checked=s.checked,t.disabled=s.checked)})),e("change","[data-check-related-scopes]",(function(e){const t=e.currentTarget,s=n(t,"data-check-related-scopes").split(" ");for(const n of s){const e=o(document,`[data-scope-for="${n}"] .js-checkbox-scope`,HTMLInputElement);for(const s of e)s.checked=t.checked,s.value!==n&&(s.disabled=t.checked)}}));function H(){const e=s(document,".js-org-secrets-selection"),t=s(e,".js-secrets-visibility-menu input:checked"),r=n(t,"value"),c=s(e,".js-repository-items-dialog");c.hidden="VISIBILITY_SELECTED_REPOSITORIES"!==r;const a=s(e,".js-repository-selection-component"),i=o(a,".js-repository-item-checkbox",HTMLInputElement).filter(e=>e.checked).length,l=s(c,".js-selected-repos-label");l.hidden="VISIBILITY_SELECTED_REPOSITORIES"!==r,s(l,".js-selected-repositories-count").textContent=i.toString(),s(l,".js-multiple-repositories-text").hidden=1===i,s(l,".js-single-repository-text").hidden=1!==i}function q(e,t){const n=s(t,".js-repo-access-error");n.textContent=e,n.classList.remove("d-none")}function x(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}function I(e){const t=e.querySelectorAll(".js-repo-access-entry").length;e.classList.toggle("is-empty",0===t);const n=e.querySelector(".js-collab-limit");if(n){const o=parseInt(n.getAttribute("data-collab-limit")||"",10),r=s(e,".js-over-limit",HTMLElement),c=s(e,".js-under-limit",HTMLElement);r.classList.toggle("d-none",t<o),c.classList.toggle("d-none",t>=o)}}async function A(e,n){x();const r=(await n.json()).json;let c;const a=t(e,".js-repo-access-group");c="collaborators"===a.id?a.querySelector(".js-repo-access-list-invites"):a.querySelector(".js-repo-access-list");const i=e.querySelector(".js-add-repo-access-field");if(i instanceof HTMLInputElement){const e=i.value;i.value="","teams"===a.id&&function(e){const s=document.querySelector(".js-repo-access-team-select");if(s){let n=0;for(const t of o(s,".js-repo-access-team-select-option"))e===t.getAttribute("data-team-id")&&(t.hidden=!0),t.hidden||n++;0===n&&t(s,".js-repo-access-group").classList.add("no-form")}}(e)}if(r.error)return r.error.requires_license?void h({content:b(document,r.html)}):void q(r.error,a);if(function(){const e=document.getElementById("collaborators");e&&(s(e,".js-add-new-collab",HTMLButtonElement).disabled=!0)}(),function(){const e=document.querySelector("#teams .js-add-new-collab");e instanceof HTMLButtonElement&&(e.disabled=!0)}(),c){c.insertAdjacentHTML("beforeend",r.html);const e=o(c,".js-repo-access-entry");s(e[e.length-1],"a").focus()}if(I(a),r.seats||0===r.seats){const e=1===r.seats?"seat":"seats",t=document.getElementById("available-seats");t&&(t.innerHTML=`${r.seats} ${e}`)}}function C(e){for(const t of e)t.hidden=!t.hidden}function _(e){for(const s of e){s.disabled=!1,t(s,".js-role-checkbox").classList.remove("text-gray-light")}}function R(e,t){e instanceof HTMLElement&&(e.hidden=t)}function O(e){const t=s(e,".js-authorized-pushers");if(!t.getAttribute("data-limit"))return;const n=parseInt(t.getAttribute("data-limit")||""),o=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",o>=n)}e("click",".js-new-secret-value-button",(function(e){const n=e.currentTarget,o=t(n,".js-secret-value-form-group");s(o,".js-new-secret-value-input").hidden=!1,s(o,".js-new-secret-value-prompt").hidden=!0})),e("change",".js-org-secrets-selection .js-repository-selection-component",H),e("reset",".js-org-secrets-selection .js-repository-selection-component",H),e("details-menu-selected",".js-secrets-visibility-menu",H,{capture:!0}),e("details-menu-selected",".js-repo-access-team-select-menu",(function(e){const n=e.detail.relatedTarget,o=n.getAttribute("data-team-id")||"",r=s(t(n,".js-repo-access-group"),".js-add-repo-access-field",HTMLInputElement);r.value=o,g(r.form)}),{capture:!0}),u(".js-add-repo-access-form-with-license",(async function(e,t){const s=document.querySelector('.js-add-repo-access-form[data-for="collaborators"]');s&&A(s,t)})),u(".js-add-repo-access-form",A),u(".js-remove-repo-access-form",(async function(e,s){if(e.hasAttribute("data-skip-remote"))return;try{await s.text()}catch(r){return void q(e.getAttribute("data-error-message")||"",t(e,".js-repo-access-group"))}x();const n=t(e,".js-repo-access-entry"),o=t(e,".js-repo-access-group");"teams"===o.id&&function(e){const s=document.querySelector(".js-repo-access-team-select");if(s){const n=s.querySelector(`[data-team-id='${e}']`);n instanceof HTMLElement&&(n.hidden=!1),t(s,".js-repo-access-group").classList.remove("no-form")}}(n.getAttribute("data-team-id")||""),n.remove(),I(o)})),e("combobox-commit",".js-repo-add-access-search",(function(e){if(!(e.target instanceof Element))return;const n=t(e.target,".js-repo-add-access-search"),r=t(e.target,".js-autocomplete-item");s(n,".js-selected-member-id").textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const c=s(n,".js-selected-member-badge"),a=s(r,".js-selection-badge");c.innerHTML=a.innerHTML,C(o(n,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection"));const i=n.querySelector(".js-base-role-badge");R(i,!0);const l=r.getAttribute("data-type"),d=r.hasAttribute("data-admin"),u=o(n,d?"[data-disable-org-admin]":"[data-disable-org-role]",HTMLInputElement),m=o(n,'input[name="role"]',HTMLInputElement);if(m.length>0){if(_(m),"org-member"===l){R(i,!1);for(const e of u){e.disabled=!0,t(e,".js-role-checkbox").classList.add("text-gray-light")}}if(d)s(n,".js-role-admin",HTMLInputElement).checked=!0;else if(i&&"org-member"===l){s(t(i,".js-role-checkbox"),'input[name="role"]',HTMLInputElement).checked=!0}else"outside-collab"!==l&&"team"!==l&&"org-member"!==l||(s(n,".js-role-pull",HTMLInputElement).checked=!0)}})),e("click",".js-cancel-selection",(function(e){if(!(e.target instanceof Element))return;const n=t(e.target,".js-repo-add-access-search");s(n,".js-repo-add-access-search-input",HTMLInputElement).value="",_(o(n,'input[name="role"]',HTMLInputElement)),C(o(n,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")),R(n.querySelector(".js-base-role-badge"),!0)})),e("details-dialog-close",".js-add-access-form",(function({currentTarget:e}){const t=s(e,".js-repo-add-access-search-input",HTMLInputElement);t.value="",_(o(t,'input[name="role"]',HTMLInputElement));const n=s(e,".js-repo-add-access-search-selection"),r=s(e,".js-repo-add-access-search-selected");r.hidden||(C([r,n]),R(t.querySelector(".js-base-role-badge"),!0))})),e("change","input.js-repo-data-opt-in",(function({currentTarget:e}){const s=e,n=t(s,".js-repo-data-services"),o=s.checked;for(const t of n.querySelectorAll(".js-repo-data-options"))t.classList.toggle("active",o);for(const t of n.querySelectorAll(".js-repo-data-option"))t.toggleAttribute("disabled",!o),o&&t.removeAttribute("checked")})),e("change",".js-repo-features-form input[type=checkbox]",(function({currentTarget:e}){const n=t(e,".js-repo-option"),o=s(n,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),e("click",".js-used-by-selector-button",(function({currentTarget:e}){const n=t(e,".js-used-by-selector"),o=s(n,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),u(".js-repo-features-form",(async function(e,n){let r;try{r=await n.html()}catch(c){for(const n of o(e,".status-indicator-loading")){n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-failed");const e=t(n,".js-repo-option"),o=s(e,"input[type=checkbox]",HTMLInputElement);o.checked=!o.checked}return}for(const t of o(e,".status-indicator-loading"))t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-success");s(document,".js-repo-nav").replaceWith(r.html)})),e("change",".js-merge-features-form input[type=checkbox]",(function({currentTarget:e}){const n=e.form;for(const t of n.querySelectorAll(".errored"))t.classList.remove("errored");const o=t(e,".js-repo-option"),r=s(o,".js-status-indicator");r.classList.remove("status-indicator-success","status-indicator-failed"),r.classList.add("status-indicator-loading")})),u(".js-merge-features-form",(async function(e,n){try{await n.text()}catch(o){const n=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const t of e.querySelectorAll(n))t instanceof HTMLElement&&(t.hidden=!1);for(const r of e.querySelectorAll(".status-indicator-loading")){r.classList.remove("status-indicator-loading"),r.classList.add("status-indicator-failed");const e=t(r,".js-repo-option");e.classList.add("errored");const n=s(e,"input[type=checkbox]",HTMLInputElement);n.checked=!n.checked}for(const t of e.querySelectorAll(".status-indicator-success"))t.classList.remove("status-indicator-success");return}for(const t of e.querySelectorAll(".errored"))t.classList.remove("errored");for(const t of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))t instanceof HTMLElement&&(t.hidden=!0);for(const t of e.querySelectorAll(".status-indicator-loading"))t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-success")})),e("change","input.js-required-status-toggle",(function({currentTarget:e}){const n=t(e,".js-protected-branch-settings");s(n,".js-required-statuses").classList.toggle("d-none",!e.checked)})),e("change","input.js-required-status-checkbox",(function({currentTarget:e}){const n=t(e,".js-protected-branches-item");s(n,".js-required-status-badge").classList.toggle("d-none",!e.checked)})),e("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",(function({currentTarget:e}){const n=t(e,".js-protected-branch-options"),o=s(n,".js-authorized-pushers");o.classList.toggle("d-none",!e.checked),s(o,".js-add-protected-branch-user-or-team input",HTMLInputElement).focus()})),e("change",".js-protected-branch-include-admin-toggle",(function({currentTarget:e}){const s=t(e,".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const t of s)t.classList.toggle("d-none"),t.classList.toggle("active",!t.classList.contains("d-none"))})),e("auto-complete-change",".js-add-protected-branch-user-or-team",(async function({target:e}){const o=e,r=o.value;if(!r)return;o.value="";const c=t(o,".js-protected-branch-options"),a=s(c,".js-authorized-users-and-teams"),i=a.querySelector(`div[data-user-or-team-name='${r}']`);if(i)return void s(i,".js-protected-branch-pusher").classList.add("user-already-added");const l=n(o,"data-add-url"),d=new URL(l,window.location.origin),u=new URLSearchParams(d.search.slice(1));u.append("item",r),d.search=u.toString(),a.append(await j(document,d.toString())),O(c)})),e("click",".js-remove-authorized-user-or-team",(function({currentTarget:e}){const s=t(e,".js-protected-branch-options");t(e,".js-authorized-user-or-team").remove(),O(s)})),r("#pages-cname-field",{constructor:HTMLInputElement,add(e){y(e,(function(){s(document,".js-pages-cname-save-btn",HTMLButtonElement).disabled=e.value===e.defaultValue}))}}),r(".js-pages-https-status-form",{constructor:HTMLFormElement,add(e){const t=new Request(e.action,{method:e.method,body:new FormData(e)});(async()=>{try{const s=await j(document,t);e.replaceWith(s)}catch(s){if(!s.response||404!==s.response.status)throw s}})()}});async function D(e){const t=n(e,"data-actions-list-runners-url"),o=s(document,"#js-actions-runners-list");try{const e=await j(document,t);o.innerHTML="",o.append(e)}catch(r){window.location.reload()}}setTimeout((async function e(){const t=document.querySelector(".js-pages-certificate-status");if(t){const s=n(t,"data-status-url"),o=await j(document,s);t.replaceWith(o),setTimeout(e,15e3)}}),15e3),e("change",".js-repo-actions-settings input[type=radio]",(function({currentTarget:e}){const n=e.form;for(const t of n.querySelectorAll(".js-actions-status-indicator"))t.classList.remove("status-indicator-success","status-indicator-failed","status-indicator-loading");const o=t(e,".js-actions-option"),r=s(o,".js-actions-status-indicator");r.classList.remove("status-indicator-success","status-indicator-failed"),r.classList.add("status-indicator-loading")})),e("details-dialog-close",".js-repo-actions-add-runner-dialog",(function({currentTarget:e}){D(e)})),e("details-dialog-close",".js-repo-actions-delete-runner-dialog",(function({currentTarget:e}){D(e)})),e("details-menu-selected",".js-repo-actions-runners-choose-architecture-menu",(function(e){const s=e.detail.relatedTarget,r=t(s,".js-action-runner-tabpanel"),c=n(s,"data-download-url"),a=n(s,"data-download-filename");for(const t of o(r,".js-action-runner-url"))t.textContent=c;for(const t of o(r,".js-action-runner-filename"))t.textContent=a}),{capture:!0}),u(".js-repo-restore",(async function(e,n){let o;const r=t(e,".js-deleted-repository");try{o=await n.html()}catch(c){throw c}o&&function(e,t){const n=s(e,".js-restore-status");n.innerHTML="",n.append(t.html)}(r,o)})),r(".js-restore-repo-job",(function(e){!function(e){s(e,"form>button",HTMLButtonElement).disabled=!0,s(e,"summary").classList.add("disabled");for(const t of e.querySelectorAll("details"))t.removeAttribute("open")}(t(e,".js-deleted-repository"))})),e("click",".js-disableable-summary.disabled",e=>e.preventDefault());const B=new WeakMap;async function $(){const e=s(document,".js-repository-selection-component"),t=B.get(e)||0;if(t>100)return;const o=e.querySelector(".js-more-repository-items-button");if(!o)return;o.textContent=n(o,"data-disable-with"),o.disabled=!0,B.set(e,t+1);const r=n(o,"data-url"),c=await j(document,r);s(e,".js-more-repository-items-replace-target").replaceWith(c),a(s(document,".js-repository-items-filter-input"),"change")}function z(){const e=s(document,".js-repository-items-dialog"),t=s(e,".js-repository-selection-component"),n=o(t,".js-repository-item-checkbox",HTMLInputElement).filter(e=>e.checked).length,r=s(e,".js-selected-repositories-count-container");s(r,".js-selected-repositories-count").textContent=n.toString(),s(r,".js-multiple-repositories-text").hidden=1===n,s(r,".js-single-repository-text").hidden=1!==n}e("click",".js-more-repository-items-button",(function(){$()})),r(".js-more-repository-items-button",(function(){$()})),e("change",".js-repository-selection-component",z),e("reset",".js-repository-selection-component",z);function F({currentTarget:e}){if(e instanceof Element){const t=s(e,".js-runner-labels-form",HTMLFormElement);g(t)}}e("click",".js-repo-toggle-team",(async function(){const e=(e=>{const t=new URLSearchParams(window.location.search),s=new Set(t.getAll("team_ids[]")),n=o(document,e,HTMLInputElement);for(const o of n)o.checked?s.add(o.value):s.delete(o.value);return[...s]})(".js-repo-toggle-team");for(const t of o(document,".js-repo-team-suggestions-pagination > a",HTMLAnchorElement)){const s=n(t,"href");if(s){const n=new URL(s,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.delete("team_ids[]");for(const t of e)o.append("team_ids[]",t);n.search=o.toString(),t.setAttribute("href",n.toString())}}s(document,'[name="team_ids"]',HTMLInputElement).value=e.join(",")})),m(".js-synced-repo-owner-input",(function(e){const t=e.target,s=t.getAttribute("data-sync");if(!s)return;const n=document.querySelectorAll(`[data-sync-with="${s}"]`);for(const o of n)o.textContent=t.value})),e("change",".js-runner-bulk-actions-toggle",(function(){const e=!!document.querySelector(".js-runner-bulk-actions-toggle:checked");s(document,".js-runner-default-header").hidden=e,s(document,".js-runner-bulk-actions-header").hidden=!e})),u(".js-create-runner-label-form",(async function(e,n){var o;let r;const c=t(e,".js-runner-labels-menu"),a=s(c,".js-runner-label-error");try{r=await n.html()}catch(l){return void((null===(o=l.response.json)||void 0===o?void 0:o.message)&&a&&(a.textContent=l.response.json.message,a.hidden=!1))}if(!r)return;a&&(a.hidden=!0,a.textContent=""),s(c,".js-filterable-runner-labels").prepend(r.html),t(e,".js-runner-labels-details").addEventListener("toggle",F,{once:!0});const i=s(c,".js-label-filter-field",HTMLInputElement);i.value="",i.focus()})),e("details-menu-selected",".js-runner-labels-menu",(function(e){const s=e.currentTarget;t(s,".js-runner-labels-details").addEventListener("toggle",F,{once:!0})}),{capture:!0});function P(){const e=s(document,".js-org-runner-permissions-selection"),t=e.querySelector(".js-runner-permissions-menu input:checked"),o=n(t,"value");s(e,".js-selected-repositories-count-container").hidden="SELECTED_REPOSITORIES"!==o}function U(){return s(document,".js-add-u2f-registration-form",HTMLFormElement)}e("details-menu-selected",".js-runner-permissions-menu",(function(e){const o=e.detail.relatedTarget;if(!(o instanceof HTMLElement))throw new Error("invariant");const r=t(o,".js-org-runner-permissions-selection"),c=n(o,"value");s(r,".js-org-runner-repository-selection").hidden="SELECTED_REPOSITORIES"!==c,P()}),{capture:!0}),e("change",".js-org-runner-permissions-selection .js-repository-selection-component",P),e("reset",".js-org-runner-permissions-selection .js-repository-selection-component",P),u(".js-saved-reply-delete",(async function(e,t){await t.text();const s=e.closest(".js-saved-reply-container"),n=s.querySelectorAll(".js-saved-reply-list-item").length;s.classList.toggle("has-replies",n>1),e.closest(".js-saved-reply-list-item").remove()}));function N(e){e.webauthn_register_request&&U().setAttribute("data-webauthn-register-request",JSON.stringify(e.webauthn_register_request))}function W(e,t){const n=s(document,".js-new-u2f-registration");n.classList.add("is-showing-error"),n.classList.remove("is-sending");for(const s of n.querySelectorAll(".js-u2f-message"))s.hidden=!0;const o=s(n,e);t&&(o.textContent=t),o.hidden=!1}async function V(e){if(!(await v("high")))throw new Error("sudo failed");const t=s(document,".js-add-u2f-registration-form",HTMLFormElement);i(t,"response").value=JSON.stringify(e);try{const e=await k(t.action,{method:t.method,body:new FormData(t),headers:{accept:"application/json"}}),n=await e.json();N(n),s(document,".js-new-u2f-registration").classList.remove("is-sending","is-active"),s(document,".js-u2f-registration-nickname-field",HTMLInputElement).value="";const o=n.registration;o&&s(document,".js-u2f-registrations").append(b(document,o))}catch(n){if(n.response){const e=await n.response.json();N(e),W(".js-u2f-server-error",e.error)}else W(".js-u2f-network-error")}}async function J(){try{!function(){const e=s(document,".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}();const e=JSON.parse(n(U(),"data-webauthn-register-request")),t=await w(e);await V(t)}catch(e){throw W(".js-webauthn-registration-error"),e}}function Y(){J()}function G(e,t){s(e,".js-add-new-user",HTMLButtonElement).disabled=!t}u(".js-u2f-registration-delete",(async function(e,s){const n=t(e,".js-u2f-registration");n.classList.add("is-sending"),N((await s.json()).json),n.remove()})),e("click",".js-add-u2f-registration-link",(function(){const e=s(document,".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),s(document,".js-u2f-registration-nickname-field",HTMLInputElement).focus()})),e("click",".js-u2f-register-retry",(function(){Y()})),e("submit",".js-add-u2f-registration-form",(function(e){e.preventDefault(),Y()})),r(".js-u2f-box",(function(e){e.classList.toggle("available",L())})),r(".js-add-user-form",(function(e){G(e,!1)})),e("auto-complete-change",".js-add-user-completer",(function({target:e}){const s=e;G(t(s,".js-add-user-form"),!!s.value);const n=document.querySelector(".js-designated-user");n&&(s.value?n.textContent=`@${s.value}`:n.textContent=n.getAttribute("data-autocomplete-text"))})),u(".js-remote-submit",(async function(e,t){const n=await t.html(),o=s(document,".js-user-block-settings-list"),r=s(o,".js-blocked-list"),c=s(o,".js-user-block-blank-slate");G(e,!1);const a=s(e,".js-add-blocked-user-field",HTMLInputElement);T(a,""),c.hidden=!0,r.hidden=!1,r.prepend(n.html)})),u(".js-user-sessions-revoke",(async function(e,s){await s.text();const n=t(e,".js-user-sessions-container");if(t(e,".js-user-session").remove(),n){const e=n.querySelectorAll(".js-user-session").length;n.classList.toggle("has-active-sessions",e>0)}})),u(".js-verify-ssh-key",(async function(e,n){await n.html();const o=t(e,"li");s(o,".js-unverified-user-key-notice").remove(),s(o,".js-user-key-icon").classList.remove("unverified-user-key"),e.remove()})),u(".js-leave-collaborated-repo",(async function(e,t){await t.html();const o=n(e,"data-repo-id"),r=n(e,"data-owner-id");s(document,`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(s(document,".js-collaborated-repos-empty").hidden=!1,s(document,".js-collaborated-repos").hidden=!0);const c=document.querySelector(`.js-collab-repo-owner[data-owner-id='${r}']`);c&&(c.querySelector(".js-collab-repo")||c.remove())}))}}}));
//# sourceMappingURL=settings-bootstrap-c6069705.js.map
